<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>testv1 browser ctx smoke</title>
</head>
<body>
  <button aria-label="Smoke Button" onclick="window.__smokeClicked = true; console.log('clicked-smoke')">Click me</button>
  <input aria-label="Search Input" placeholder="type and press enter" />
  <div aria-label="Status" data-state="idle">ready</div>
  <div aria-label="Search Status" data-last=""></div>
  <div
    id="tap-target"
    aria-label="Tap Area"
    style="margin-top:16px;width:220px;height:120px;border:1px solid #444;display:flex;align-items:center;justify-content:center;"
  >
    Tap Area
  </div>
  <script>
    const status = document.querySelector('[aria-label="Status"]');
    const searchInput = document.querySelector('[aria-label="Search Input"]');
    const searchStatus = document.querySelector('[aria-label="Search Status"]');
    const btn = document.querySelector('[aria-label="Smoke Button"]');
    const tapTarget = document.querySelector('#tap-target');
    let coordHits = 0;
    btn.addEventListener('click', () => {
      status.setAttribute('data-state', 'done');
      status.textContent = 'done';
    });
    tapTarget.addEventListener('click', () => {
      coordHits += 1;
      status.setAttribute('data-coord-hits', String(coordHits));
      console.log(`coord-hit-${coordHits}`);
    });
    searchInput.addEventListener('keydown', (event) => {
      if (event.key === 'Enter') {
        const val = searchInput.value || '';
        searchStatus.setAttribute('data-last', val);
        console.log(`search-enter:${val}`);
      }
    });
  </script>
</body>
</html>
