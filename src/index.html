<!DOCTYPE html>
<html>
<head>
    <title>Dialtone - {{.Hostname}}</title>
    <meta http-equiv="refresh" content="5">
    <style>
        body { 
            font-family: monospace; 
            background: #000; 
            color: #fff; 
            padding: 20px;
            margin: 0;
        }
        h1 { border-bottom: 1px solid #333; padding-bottom: 10px; }
        .section { margin-bottom: 30px; }
        h2 { font-size: 1.2em; color: #888; margin-top: 0; }
        table { width: 100%; border-collapse: collapse; }
        td, th { padding: 8px 0; text-align: left; border-bottom: 1px solid #222; }
        th { color: #888; width: 150px; font-weight: normal; }
        .mono { background: #111; padding: 2px 4px; }
        a { color: #fff; text-decoration: underline; }
        .status { color: #888; }
        .status.active { color: #fff; }
    </style>
</head>
<body>
    <h1>Dialtone: {{.Hostname}}</h1>

    <div class="section">
        <h2>System</h2>
        <table>
            <tr><th>Uptime</th><td>{{.Uptime}}</td></tr>
            <tr><th>Platform</th><td>{{.OS}} / {{.Arch}}</td></tr>
            <tr><th>Viewer</th><td>{{.Caller}}</td></tr>
        </table>
    </div>

    <div class="section">
        <h2>NATS Server</h2>
        <table>
            <tr><th>Status</th><td class="status active">Running</td></tr>
            <tr><th>URL</th><td><span class="mono">nats://{{.Hostname}}:{{.NATSPort}}</span></td></tr>
            <tr><th>Connections</th><td>{{.Connections}}</td></tr>
            <tr><th>Messages</th><td>In: {{.InMsgs}} / Out: {{.OutMsgs}}</td></tr>
            <tr><th>Data</th><td>In: {{.InBytes}} / Out: {{.OutBytes}}</td></tr>
        </table>
    </div>

    <div class="section">
        <h2>Network</h2>
        <table>
            <tr><th>Tailscale IPs</th><td><span class="mono">{{.IPs}}</span></td></tr>
            <tr><th>Dashboard</th><td><a href="http://{{.Hostname}}:{{.WebPort}}">http://{{.Hostname}}:{{.WebPort}}</a></td></tr>
        </table>
    </div>

    <div class="section">
        <h2>Endpoints</h2>
        <table>
            <tr><td><a href="/api/status">/api/status</a></td><td>JSON status</td></tr>
            <tr><td><a href="/api/varz">/api/varz</a></td><td>NATS variables</td></tr>
        </table>
    </div>
</body>
</html>
